import{l as I,m as N,o as E,q as D,r as a,s as l,t as r,u as P}from"./chunk-KMB27RHX.js";import{Ka as g,Nb as T,R as c,Y as i,Zb as v,a as n,aa as y,ga as d,jc as L,ka as p,ma as S,mb as _,ob as C,pb as O,sa as f,wa as u,xb as b}from"./chunk-TT2HP4OH.js";var $=(()=>{class o extends r{name="common";static \u0275fac=(()=>{let e;return function(s){return(e||(e=p(o)))(s||o)}})();static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),q=(()=>{class o{document=i(v);platformId=i(u);el=i(f);injector=i(S);cd=i(T);renderer=i(g);config=i(P);baseComponentStyle=i($);baseStyle=i(r);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=N("pc");_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,t="",s={}){return I(e,t,s)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}templates;ngAfterContentInit(){this.templates?.forEach(e=>{let t=e.getType(),s=`${t}Template`;this.hasOwnProperty(s)&&(this[s]=e.template),this.hasOwnProperty(`_${s}`)&&(this[`_${s}`]=e.template),this[t]=e.template})}ngOnChanges(e){if(this.document&&!L(this.platformId)){let{dt:t}=e;t&&t.currentValue&&(this._loadScopedThemeStyles(t.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(t.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles()}_loadStyles(){let e=()=>{l.isStyleNameLoaded("base")||(this.baseStyle.loadCSS(this.styleOptions),l.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!l.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),l.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!a.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:s,style:m}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,n({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(t?.css,n({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(s?.css,n({name:"global-variables"},this.styleOptions)),this.baseStyle.loadTheme(n({name:"global-style"},this.styleOptions),m),a.setLoadedStyleName("common")}if(!a.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:t}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,n({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(n({name:`${this.componentStyle?.name}-style`},this.styleOptions),t),a.setLoadedStyleName(this.componentStyle?.name)}if(!a.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,n({name:"layer-order",first:!0},this.styleOptions)),a.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:t}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},s=this.componentStyle?.load(t,n({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=s?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){l.clearLoadedStyleNames(),D.on("theme:change",e)}cx(e,t){let s=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof s=="function"?s({instance:this}):typeof s=="string"?s:e}sx(e){let t=this.componentStyle?.inlineStyles?.[e];return typeof t=="function"?t({instance:this}):typeof t=="string"?t:n({},t)}get parent(){return this.parentInstance}static \u0275fac=function(t){return new(t||o)};static \u0275dir=y({type:o,contentQueries:function(t,s,m){if(t&1&&_(m,E,4),t&2){let h;C(h=O())&&(s.templates=h)}},inputs:{dt:"dt"},standalone:!0,features:[b([$,r]),d]})}return o})();export{q as a};
